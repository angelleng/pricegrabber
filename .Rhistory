current
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
win
for (i in 1:100) {
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
win
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
win
sum(win)
N = 100
sum(win)/N
N = 100
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 100
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 100
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 100
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 100
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:100) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:N) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:N) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:N) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
N = 1000
win <- numeric()
for (i in 1:N) {
current <- sample(c(1,0), 3, replace = TRUE)
repeat {
if (all(current == c(1,1,0))) {
win = c(win,1)
break
} else if (all(current == c(1,0,0))){
win = c(win,0)
break
}
current[1] = current[2]
current[2] = current[3]
current[3] = sample(c(1,0), 1)
current
}
}
sum(win)/N
n <- readline(prompt="Enter an integer: ")
install.packages("optparse")
help(library)
library("optparse", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
a <- "http://www.orbitz.com/shop/home?type=air&ar.type=roundTrip&strm=true&ar.rt.leaveSlice.orig.key=DTW&_ar.rt.leaveSlice.originRadius=0&ar.rt.leaveSlice.dest.key=WUH&_ar.rt.leaveSlice.destinationRadius=0&ar.rt.leaveSlice.date=7%2F1%2F15&ar.rt.leaveSlice.time=Anytime&ar.rt.returnSlice.date=8%2F1%2F15&ar.rt.returnSlice.time=Anytime&_ar.rt.flexAirSearch=0&ar.rt.numAdult=1&ar.rt.numSenior=0&ar.rt.numChild=0&ar.rt.child%5B0%5D=&ar.rt.child%5B1%5D=&ar.rt.child%5B2%5D=&ar.rt.child%5B3%5D=&ar.rt.child%5B4%5D=&ar.rt.child%5B5%5D=&ar.rt.child%5B6%5D=&ar.rt.child%5B7%5D=&search=Search+Flights&_ar.rt.nonStop=0&_ar.rt.narrowSel=0&ar.rt.narrow=airlines&ar.rt.carriers%5B0%5D=&ar.rt.carriers%5B1%5D=&ar.rt.carriers%5B2%5D=&ar.rt.cabin=C"
b <- "http://www.orbitz.com/shop/home?type=air&ar.type=roundTrip&strm=true&ar.rt.leaveSlice.orig.key=DTW&_ar.rt.leaveSlice.originRadius=0&ar.rt.leaveSlice.dest.key=WUH&_ar.rt.leaveSlice.destinationRadius=0&ar.rt.leaveSlice.date=7%2F1%2F15&ar.rt.leaveSlice.time=Anytime&ar.rt.returnSlice.date=8%2F1%2F15&ar.rt.returnSlice.time=Anytime&_ar.rt.flexAirSearch=0&ar.rt.numAdult=1&ar.rt.numSenior=0&ar.rt.numChild=0&ar.rt.child%5B0%5D=&ar.rt.child%5B1%5D=&ar.rt.child%5B2%5D=&ar.rt.child%5B3%5D=&ar.rt.child%5B4%5D=&ar.rt.child%5B5%5D=&ar.rt.child%5B6%5D=&ar.rt.child%5B7%5D=&search=Search+Flights&_ar.rt.nonStop=0&_ar.rt.narrowSel=0&ar.rt.narrow=airlines&ar.rt.carriers%5B0%5D=&ar.rt.carriers%5B1%5D=&ar.rt.carriers%5B2%5D=&ar.rt.cabin=C"
date()
date()
as.date(7-1)
to.data(7-1)
as.Date(7-1)
as.Date(7-1-2015)
as.Date(7,1,2015)
as.Date("2015-7-1")
as.Date("2015-7-1")
as.Date("2015-7-1")-as.Date("2015-6-4")
as.Date("2015-7-1"):as.Date("2015-6-4")
as.Date(as.Date("2015-7-1"):as.Date("2015-6-4"))
a <- "http://www.orbitz.com/shop/home?type=air&ar.type=roundTrip&strm=true&ar.rt.leaveSlice.orig.key=DTW&_ar.rt.leaveSlice.originRadius=0&ar.rt.leaveSlice.dest.key=WUH&_ar.rt.leaveSlice.destinationRadius=0&ar.rt.leaveSlice.date=7%2F1%2F15&ar.rt.leaveSlice.time=Anytime&ar.rt.returnSlice.date=8%2F1%2F15&ar.rt.returnSlice.time=Anytime&_ar.rt.flexAirSearch=0&ar.rt.numAdult=1&ar.rt.numSenior=0&ar.rt.numChild=0&ar.rt.child%5B0%5D=&ar.rt.child%5B1%5D=&ar.rt.child%5B2%5D=&ar.rt.child%5B3%5D=&ar.rt.child%5B4%5D=&ar.rt.child%5B5%5D=&ar.rt.child%5B6%5D=&ar.rt.child%5B7%5D=&search=Search+Flights&_ar.rt.nonStop=0&_ar.rt.narrowSel=0&ar.rt.narrow=airlines&ar.rt.carriers%5B0%5D=&ar.rt.carriers%5B1%5D=&ar.rt.carriers%5B2%5D=&ar.rt.cabin=C"
b <- "http://www.orbitz.com/shop/home?type=air&ar.type=roundTrip&strm=true&ar.rt.leaveSlice.orig.key=DTW&_ar.rt.leaveSlice.originRadius=0&ar.rt.leaveSlice.dest.key=WUH&_ar.rt.leaveSlice.destinationRadius=0&ar.rt.leaveSlice.date=7%2F1%2F15&ar.rt.leaveSlice.time=Anytime&ar.rt.returnSlice.date=8%2F1%2F15&ar.rt.returnSlice.time=Anytime&_ar.rt.flexAirSearch=0&ar.rt.numAdult=1&ar.rt.numSenior=0&ar.rt.numChild=0&ar.rt.child%5B0%5D=&ar.rt.child%5B1%5D=&ar.rt.child%5B2%5D=&ar.rt.child%5B3%5D=&ar.rt.child%5B4%5D=&ar.rt.child%5B5%5D=&ar.rt.child%5B6%5D=&ar.rt.child%5B7%5D=&search=Search+Flights&_ar.rt.nonStop=0&_ar.rt.narrowSel=0&ar.rt.narrow=airlines&ar.rt.carriers%5B0%5D=&ar.rt.carriers%5B1%5D=&ar.rt.carriers%5B2%5D=&ar.rt.cabin=C"
diff(a,b)
a - b
a == b
as.Date("15-7-1")
as.Date("2015-7-1")
as.Date("2015-7-01")
as.Date("2015-7-1"):as.Date("2015-7:9")
as.Date("2015-7-1"):as.Date("2015-7-9")
as.Date("2015-7-1") + 1:9
sys.Date()
Date()
date()
date(%d)
date("%d")
sys.date()
date()
as.Date(date())
date()
Sys.Date()
Sys.Date()
Sys.Date() + 1:60
departure_date <- Sys.Date() + 1:60
Sys.Date() + 20:40
lapply(departure_date, function(i) i + 20:40)
return_date <- lapply(departure_date, function(i) i + 20:40)
length(return_date)
departure_date
departure_date <- as.Date("2015-07-01") + 1:60
departure_date <- as.Date("2015-07-01") + 1:60; departure_date
departure_date <- as.Date("2015-07-01") + 1:40; departure_date
return_date <- lapply(departure_date, function(i) i + 21:40)
as.Date("2015-07-01")
format(as.Date("2015-07-01"), "%d")
format(as.Date("2015-07-01"), "%m")
departure_date <- as.Date("2015-07-01") + 1:40; departure_date
return_date <- lapply(departure_date, function(i) i + 21:40)
return_date
return_date[[40]]
name(return_date[[40]])
nameof(return_date[[40]])
return_date[[40]].name()
names(return_date)
names(return_date) <- departure_date
names(return_date)
return_date[[40]]
return_date[40]
return_date$2015-07-05
return_date$'2015-07-05'
names(return_date[40])
sapply(return_date, function(i) names(i))
return_date <- lapply(departure_date, function(i) i + 21:40)
unlist(return_date)
return_date
today <- as.Date("2015-07-01")
as.String(today)
as.Character(today)
as.Characters(today)
as.character(today)
as.string(today)
unlist(as.character(return_date))
do.call(unlist(return_date))
do.call(unlist, return_date)
return_date <- lapply(departure_date, function(i) i + 21:40)
do.call(unlist, return_date)
do.call("c", return_date)
rep(departure_date, 20)
sort(rep(departure_date, 20))
rbind(do.call("c", return_date)
,
sort(rep(departure_date, 20))
)
rt <- do.call("c", return_date)
dp <- sort(rep(departure_date, 20))
do.call(rbind, c(rt, dp))
do.call(rbind, list(rt, dp))
list(rt, dp)
do.call("rbind", list(rt, dp))
do.call("c", list(rt, dp))
data.frame(returndate = rt, departure = dp)
pairs <-  data.frame(returndate = rt, departure = dp)
pairs[pairs$returndate == "2015-09-06"]
pairs[pairs$returndate == "2015-09-06", ]
pairs <-  data.frame(departure = dp, returndate = rt)
pairs[pairs$departure == "2015-09-06", ]
dp
pairs <-  data.frame(departure = dp, returndate = rt)
pairs[pairs$departure == "2015-09-06", ]
pairs[pairs$departure == "2015-08-10", ]
pairs[pairs$departure == "2015-07-10", ]
pairs[1]
format(today, "%m")
pairs[1:800,]
as.Date(departure_date)
format(departure_date, '%m')
format(pairs, "%m")
format(pairs, "%d")
cbind(format(pairs, "%m"),format(pairs, "%d"))
distinct <- cbind(format(pairs, "%m"),format(pairs, "%d"))
names(distinct)
names(distinct) <- c("d_month", "r_month", "d_day", "r_day")
past0(distinct$d_month, distinct$d_day)
paste0(distinct$d_month, distinct$d_day)
departure_date
"%2F"
paste0(distinct$d_month, "%2F1%",distinct$d_day)
paste0(distinct$d_month, "%2F",distinct$d_day, "%2F15&")
paste0("http://www.orbitz.com/shop/home?type=air&ar.type=roundTrip&strm=true&ar.rt.leaveSlice.orig.key=DTW&_ar.rt.leaveSlice.originRadius=0&ar.rt.leaveSlice.dest.key=WUH&_ar.rt.leaveSlice.destinationRadius=0&ar.rt.leaveSlice.date=",
distinct$d_month, "%2F",distinct$d_day, "%2F15&" )
b
urls <-
paste0("http://www.orbitz.com/shop/home?type=air&ar.type=roundTrip&strm=true&ar.rt.leaveSlice.orig.key=DTW&_ar.rt.leaveSlice.originRadius=0&ar.rt.leaveSlice.dest.key=WUH&_ar.rt.leaveSlice.destinationRadius=0&ar.rt.leaveSlice.date=",
distinct$d_month, "%2F",distinct$d_day, "%2F15&ar.rt.leaveSlice.time=Anytime&ar.rt.returnSlice.date=", distinct$r_month, "%2F", distinct$r_day, "%2F15&ar.rt.returnSlice.time=Anytime&_ar.rt.flexAirSearch=0&ar.rt.numAdult=1&ar.rt.numSenior=0&ar.rt.numChild=0&ar.rt.child%5B0%5D=&ar.rt.child%5B1%5D=&ar.rt.child%5B2%5D=&ar.rt.child%5B3%5D=&ar.rt.child%5B4%5D=&ar.rt.child%5B5%5D=&ar.rt.child%5B6%5D=&ar.rt.child%5B7%5D=&search=Search+Flights&_ar.rt.nonStop=0&_ar.rt.narrowSel=0&ar.rt.narrow=airlines&ar.rt.carriers%5B0%5D=&ar.rt.carriers%5B1%5D=&ar.rt.carriers%5B2%5D=&ar.rt.cabin=C")
urls
scripts <- paste("phantomjs", "waitoncondition.js", urls)
scripts[800]
scripts[4*1:200]
scripts[10*1:80]
writeLines(scripts[10*1:80], "outfile.txt")
getwd()
quotedurls <- paste0("\"haha", "miao\"")
quotedurls
urls
quotedurls <- paste0("\"", urls,"\"")
quotedurls
scripts <- paste("phantomjs", "waitoncondition.js", quotedurls)
scripts[10*1:80]
writeLines(scripts[10*1:80], "outfile.txt")
setwd("~/Documents/pricegrabber")
lines <- readLine("result.txt")
lines <- readLines("result.txt")
lines
matrix(lines, nrow = 3)
lines
length(lines)
lines[3*1:678]
lines <- readLines("result.txt")
length(lines)
lines[3*1:678]
matrix(lines, nrow = 3)
aaa <- matrix(lines, nrow = 3)
data.frame(aaa)
data.frame(t(aaa))
aaa.dt <-  data.frame(t(aaa))
head(aaa.dt)
names(aaa.dt) <- c("depart", "return", "price")
head(aaa.dt)
aaa.dt$depart
as.characters(aaa.dt)
as.character(aaa.dt)
do.call(as.character,aaa.dt)
head(aaa.dt)
as.character(aaa.dt$depart)
apply(aaa.dt, as.character)
apply(aaa.dt, FUN = as.character)
sapply(aaa.dt, FUN = as.character)
dim(sapply(aaa.dt, FUN = as.character))
aaa
t(aaa)
length(aaa.dt)
dim(aaa.dt)[2]
dim(aaa.dt)[1]
aaa.dt[[1]]
names(aaa.dt[[1]])
aaa.dt[,]
as.character(aaa.dt[,])
as.character(aaa.dt[])
as.character(aaa.dt[[]])
aaa.dt <- data.frame(t(aaa))
aaa.dt[[1:3]]
aaa.dt[[1]]
aaa.dt[[1:3]]
aaa.dt[[3]]
aaa.dt[1:3]
aaa.dt <- data.frame((aaa))
aaa.dt
aaa.dt <- data.frame(t(aaa), stringsAsFactors=FALSE)
aaa.dt
aaa <- matrix(lines, nrow = 3)
aaa.dt <- data.frame(t(aaa), stringsAsFactors=FALSE)
